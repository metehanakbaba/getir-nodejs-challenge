
<p align="center">
<img src="https://upload.wikimedia.org/wikipedia/commons/5/58/Getir_logo.png" alt="" data-canonical-src="https://gyazo.com/eb5c5741b6a9a16c692170a41a49c858.png" width="200" />
</p>

<div align="center">

![JavaScript](https://img.shields.io/badge/javascript-%23323330.svg?style=for-the-badge&logo=javascript&logoColor=%23F7DF1E)
![TravisCI](https://img.shields.io/badge/travisci-%232B2F33.svg?style=for-the-badge&logo=travis&logoColor=white)
![NodeJS](https://img.shields.io/badge/node.js-6DA55F?style=for-the-badge&logo=node.js&logoColor=white)
![MongoDB](https://img.shields.io/badge/MongoDB-%234ea94b.svg?style=for-the-badge&logo=mongodb&logoColor=white)
![NPM](https://img.shields.io/badge/NPM-%23000000.svg?style=for-the-badge&logo=npm&logoColor=white)
![GitHub](https://img.shields.io/badge/github-%23121011.svg?style=for-the-badge&logo=github&logoColor=white)
![AWS](https://img.shields.io/badge/AWS-%23FF9900.svg?style=for-the-badge&logo=amazon-aws&logoColor=white)
![Jest](https://img.shields.io/badge/-jest-%23C21325?style=for-the-badge&logo=jest&logoColor=white)

</div>

<div align="center">

[![Build Status](https://travis-ci.org/metehanakbaba/getir-nodejs-challenge.png?branch=master)](https://travis-ci.org/metehanakbaba/getir-nodejs-challenge)
[![Code Average](https://img.shields.io/codecov/c/github/metehanakbaba/getir-nodejs-challenge)](http://nodejs.org/download/)
[![JavaScript Style Guide: Airbnb](https://img.shields.io/badge/code%20style-airbnb-brightgreen.svg)](https://github.com/airbnb/javascript "JavaScript Airbnb")
[![Node Version](https://img.shields.io/node/v/jest.svg)](http://nodejs.org/download/)
[![NPM Version](https://img.shields.io/npm/v/npm)](http://nodejs.org/download/)

</div>

___
#Getir NodeJS Challenge

A RESTful API generated by [apidoc](https://github.com/metehanakbaba/getir-nodejs-challenge).

See the API's [documentation](DOCS.md)

## Usage

### Environments
________________________________
Create a `.env` file in the root directory of your project. Add
environment-specific variables on new lines in the form of `NAME=VALUE`.
For example:

```bash
APP_ENV=
APP_DEBUG=
DB_MONGO_URI=
DB_MONGO_DATABASENAME=
HTTP_SERVER_PORT=8000
HTTP_SERVER_API_ROOT=/
```

`process.env` now has the keys and values you defined in your `.env` file.

### Api Documentation
________________________________

Add some apidoc comments anywhere in your source code:

```java
/**
 * @api {post} /records Query on record
 * @apiName Query
 * @apiGroup Record
 * @apiParam startDate Minimum value (inclusive) for 'createdAt' field of Record
 * @apiParam endDate Maximum value (exclusive) for 'createdAt' field of Record
 * @apiParam minCount Minimum value (inclusive) for sum of 'counts' field of Record
 * @apiParam maxCount Maximum value (exclusive) for sum of 'counts' field of Record
 * @apiSuccess {Object} records Record's data.
 * @apiSuccess {Object} msg Conditional message
 * @apiSuccess {String} msg Conditional message
 * @apiError {Number} code 3 Some parameters may contain invalid values.
 */
```

Now generate the documentation from `src/` into `docs/`.

```bash
$ npm run apidoc
```
## Execute Commands

After you generate your project, these commands are available in `package.json`.

```bash
npm test # test using Jest
npm run lint # lint using ESLint
npm run dev # run the API in development mode
npm run prod # run the API in production mode
npm run docs # generate API docs
```

## Directory structure

### `src/route/`

Here is where the API endpoints are defined. Each API has its own folder.

#### `src/route/record/model.js`

It defines the Mongoose schema and model for the Records API endpoint. Any changes to the data model should be done here.

#### `src/route/record/controller.js`

This is the Records API controller file. It defines the main router middlewares which use the API model.

#### `src/route/record/index.js`

This is the entry file of the Records API.

### `services/`

Here you can find `web servers` and other types of modules which I use in my APIs.

### `utils/`

Here you can find `helpers`

### `test/`

Testing NodeJs/Express API with Jest and Supertest
```bash
npm test
```
